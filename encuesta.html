<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Encuesta - Protección Segura</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
</head>
<body>

<header role="banner">
  <div class="logo" aria-label="Logo FEMX">
    <img src="images/Logo.jpg" alt="Logo FEMX" height="60">
    <span class="logo-text">FEMX</span>
  </div>
  <button class="nav-toggle" aria-label="Alternar menú de navegación">☰</button>
  <nav role="navigation">
    <ul>
      <li><a href="index.html">Inicio</a></li>
      <li><a href="informacion.html">Información</a></li>
      <li><a href="contactos.html">Contacto</a></li>
      <li><a href="encuesta.html" aria-current="page">Encuesta</a></li>
      <li><a href="Tutorial.html">Tutorial</a></li>
      <li><a href="glosario.html">Glosario</a></li>
      <li><a href="login.html">Cerrar Sesión</a></li>
    </ul>
  </nav>
</header>

<main>
  <section class="encuesta-typeform">
    <h2>Encuesta de Acoso</h2>
    <p class="intro">Responde estas preguntas para identificar si has experimentado acoso. Tu información es confidencial.</p>

    <div id="progress-bar">
      <div id="progress-fill"></div>
    </div>

    <form id="encuesta-form" aria-label="Encuesta de Acoso" novalidate>

      <!-- Pregunta 1 -->
      <div class="step active">
        <p>1. ¿Alguna vez te han hecho comentarios sobre tu cuerpo o apariencia que te hicieron sentir incómodo/a?</p>
        <label><input type="radio" name="q1" value="1" required> No</label>
        <label><input type="radio" name="q1" value="2"> Sí, de desconocidos</label>
        <label><input type="radio" name="q1" value="3"> Sí, de conocidos o amigos</label>
        <label><input type="radio" name="q1" value="4"> Sí, de ambos</label>
      </div>

      <!-- Pregunta 2 -->
      <div class="step">
        <p>2. ¿Alguien ha insistido en acompañarte o seguirte a pesar de tu negativa?</p>
        <label><input type="radio" name="q2" value="5"> No</label>
        <label><input type="radio" name="q2" value="6"> Sí, desconocidos</label>
        <label><input type="radio" name="q2" value="7"> Sí, conocidos</label>
        <label><input type="radio" name="q2" value="8"> Ambas situaciones</label>
      </div>

      <!-- Pregunta 3 -->
      <div class="step">
        <p>3. ¿Has evitado ciertos lugares por miedo a encontrarte con alguien que te incomode?</p>
        <label><input type="radio" name="q3" value="9"> No</label>
        <label><input type="radio" name="q3" value="10"> Sí, desconocidos</label>
        <label><input type="radio" name="q3" value="11"> Sí, conocidos</label>
        <label><input type="radio" name="q3" value="12"> Ambas situaciones</label>
      </div>

      <!-- Pregunta 4 -->
      <div class="step">
        <p>4. ¿Alguien ha invadido tu espacio personal de forma que te hizo sentir atrapado/a?</p>
        <label><input type="radio" name="q4" value="13"> No</label>
        <label><input type="radio" name="q4" value="14"> Sí, en la calle</label>
        <label><input type="radio" name="q4" value="15"> Sí, en reuniones sociales</label>
        <label><input type="radio" name="q4" value="16"> Ambos contextos</label>
      </div>

      <!-- Pregunta 5 -->
      <div class="step">
        <p>5. ¿Has recibido o te han tomado fotos sin permiso?</p>
        <label><input type="radio" name="q5" value="17"> No</label>
        <label><input type="radio" name="q5" value="18"> Sí, desconocidos</label>
        <label><input type="radio" name="q5" value="19"> Sí, conocidos</label>
        <label><input type="radio" name="q5" value="20"> Ambos</label>
      </div>

      <!-- Pregunta 6 -->
      <div class="step">
        <p>6. ¿Te has sentido obligado/a a responder “amablemente” ante comentarios incómodos por miedo?</p>
        <label><input type="radio" name="q6" value="21"> No</label>
        <label><input type="radio" name="q6" value="22"> Sí, con desconocidos</label>
        <label><input type="radio" name="q6" value="23"> Sí, con conocidos</label>
        <label><input type="radio" name="q6" value="24"> Ambos casos</label>
      </div>

      <!-- Pregunta 7 -->
      <div class="step">
        <p>7. ¿Te han hecho sentir culpable por expresar incomodidad?</p>
        <label><input type="radio" name="q7" value="25"> No</label>
        <label><input type="radio" name="q7" value="26"> Sí, desconocidos</label>
        <label><input type="radio" name="q7" value="27"> Sí, conocidos</label>
        <label><input type="radio" name="q7" value="28"> Ambos</label>
      </div>

      <!-- Pregunta 8 -->
      <div class="step">
        <p>8. ¿Has compartido tu ubicación con alguien por miedo?</p>
        <label><input type="radio" name="q8" value="29"> No</label>
        <label><input type="radio" name="q8" value="30"> Sí, ocasionalmente</label>
        <label><input type="radio" name="q8" value="31"> Sí, frecuentemente</label>
      </div>

      <!-- Pregunta 9 -->
      <div class="step">
        <p>9. ¿Te has sentido observado/a de forma persistente?</p>
        <label><input type="radio" name="q9" value="32"> No</label>
        <label><input type="radio" name="q9" value="33"> Sí, desconocidos</label>
        <label><input type="radio" name="q9" value="34"> Sí, conocidos</label>
        <label><input type="radio" name="q9" value="35"> Ambos</label>
      </div>

      <!-- Pregunta 10 -->
      <div class="step">
        <p>10. ¿Qué función de nuestra app te sería más útil?</p>
        <label><input type="radio" name="q10" value="36"> Botón de pánico</label>
        <label><input type="radio" name="q10" value="37"> Ruta acompañada virtual</label>
        <label><input type="radio" name="q10" value="38"> Conexión con autoridades</label>
        <label><input type="radio" name="q10" value="39"> Comunidad de apoyo</label>
        <label><input type="radio" name="q10" value="40"> Información educativa</label>
      </div>


      <!-- Botones de navegación -->
      <div class="form-navigation">
        <button type="button" id="prevBtn">Anterior</button>
        <button type="button" id="nextBtn">Siguiente</button>
        <button type="submit" id="submitBtn" class="hidden">Enviar</button>
      </div>
    </form>
  </section>
</main>

<script type="module" src="js/main.js"></script>
<script>
  const steps = document.querySelectorAll(".step");
  const nextBtn = document.getElementById("nextBtn");
  const prevBtn = document.getElementById("prevBtn");
  const submitBtn = document.getElementById("submitBtn");
  const progress = document.getElementById("progress-fill");
  let currentStep = 0;

  function showStep(stepIndex) {
    steps.forEach((step, i) => step.classList.toggle("active", i === stepIndex));
    progress.style.width = ((stepIndex + 1) / steps.length) * 100 + "%";
    prevBtn.style.display = stepIndex > 0 ? "inline-block" : "none";
    nextBtn.style.display = stepIndex < steps.length - 1 ? "inline-block" : "none";
    submitBtn.classList.toggle("hidden", stepIndex < steps.length - 1);
  }

  nextBtn.addEventListener("click", () => {
    const radios = steps[currentStep].querySelectorAll('input[type="radio"]');
    if (![...radios].some(r => r.checked)) return alert("Selecciona una opción.");
    currentStep++;
    showStep(currentStep);
  });

  prevBtn.addEventListener("click", () => {
    currentStep--;
    showStep(currentStep);
  });

  showStep(currentStep);
</script>
</body>
</html>
